"use strict";const app={};function redrawCanvases(){app.canvas.redrawCanvas(),app.loadingCanvas.loadingCanvasInit()}function init(){document.onkeydown=function(t){"Escape"===(t=t||window.event).key&&app.nav.isNavigationShown()&&app.nav.toggleNav(),13!==t.keyCode||app.nav.isNavigationShown()||app.nav.toggleNav()},document.onscroll=app.scroll.debounce(app.scroll.animatePageElements,15),window.onresize=redrawCanvases,app.loadingIFrames.shouldLoadIFrame(),app.loadingCanvas.loadingCanvasInit(),app.nav.onNavClick(),app.header.setHeaderHeight(),app.canvas.redrawCanvas();let t=window.innerWidth>=500?"assets/background.jpg":"assets/background_mobile.jpg";app.loading.loadingImage(t)}app.nav=function(){let t=!1;const e={nav:document.getElementsByTagName("nav")[0],menu:document.getElementsByClassName("nav-list")[0],buttonLines:{first:document.getElementById("nav-button").children[0],middle:document.getElementById("nav-button").children[1],last:document.getElementById("nav-button").children[2]}};function n(){return t}function i(t){const e="#"===t?0:document.querySelector(t).offsetTop;let n=window.innerWidth<=768&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);window.scrollTo({left:0,top:e,behavior:n?"auto":"smooth"})}function o(){event&&event.preventDefault(),event&&event.stopPropagation(),[...document.querySelectorAll(".navigation-link")].forEach(t=>{t.addEventListener("click",t=>{if("A"===t.target.tagName){i(t.target.getAttribute("href")||t.target.dataset.href)}else if("A"===t.target.parentNode.tagName){i(t.target.parentNode.getAttribute("href")||t.target.parentNode.dataset.href)}else i("#home")})})}return{toggleNav:function(){t=!t,n()?(e.buttonLines.first.className="menu-to-close-first",e.buttonLines.middle.style.background="none",e.buttonLines.last.className="menu-to-close-last"):(e.buttonLines.first.className="",e.buttonLines.middle.style.background="#fff",e.buttonLines.last.className=""),n()?(e.nav.classList.add("nav-bg-color"),e.menu.classList.add("nav-list-show")):(e.nav.classList.remove("nav-bg-color"),e.menu.classList.remove("nav-list-show")),o()},isNavigationShown:n,onNavClick:o}}(),app.header=function(){const t=document.querySelector("header");return{setHeaderHeight:function(){window.innerWidth<=996?t.style.height=`${window.innerHeight}px`:t.style.height="100%"}}}(),app.canvas=function(){let t=document.querySelector("canvas.header-canvas"),e=document.querySelector(".header-content"),n=document.querySelector(".header-content-holder .color-filler"),i=document.querySelector(".header-content-holder .color-filler .play-animation"),o=document.querySelector(".header-content-holder .color-filler .pause-animation"),a=document.querySelector(".header-content-holder .color-filler .play-title"),s=document.querySelector(".header-content-holder .color-filler .pause-title"),r=t.getContext("2d"),l=window.innerWidth<=996;const d=window.innerHeight,c=window.innerWidth,h={x:void 0,y:void 0};let u,f,p=!1,m=[],g=Math.floor(window.innerWidth/15),y="0,0,0",w=0,v=0,b=0,x=0,S=!1,M=!1,k=!0;function A(t){h.x=t.x,h.y=t.y}t.addEventListener("click",function(t){if(!(l&&m.length<g+Math.round(g/2)||!l&&m.length<g+Math.round(g/3)))return;P(),m.push(new $(t.x,t.y,1,.5,80,!0)),C()}),t.addEventListener("mouseover",function(){document.addEventListener("mousemove",A)}),t.addEventListener("mouseleave",function(){setTimeout(()=>{p||(h.x=void 0,h.y=void 0,document.removeEventListener("mousemove",A))},10)}),e.addEventListener("mouseleave",function(){p=!1}),e.addEventListener("mouseover",function(){p=!0}),n.addEventListener("click",function(){(M=!M)?(i.style.display="none",a.style.display="none",o.style.display="block",s.style.display="block",f=setInterval(()=>{q()},8e3),M&&q(),k=!0):(i.style.display="block",a.style.display="block",o.style.display="none",s.style.display="none",clearInterval(f))});let I=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1);function q(){if(k=!1,3===x&&(w=0,v=0,b=0,x=0),S){for(S=!1,x++;w<4;)!function(t){setTimeout(()=>{y=`${t},${v},${b}`},10*t)}(w++);for(;v<232;)!function(t){setTimeout(()=>{y=`${w},${t},${b}`},10*t)}(v++);for(;b<232;)!function(t){setTimeout(()=>{y=`${w},${v},${t}`},10*t)}(b++)}else if(0!==w&&5!==w||0!==v&&5!==v||0!==b&&5!==b){x++;for(let t=w,e=v,n=b;e>0;t--,e--,n--)setTimeout(()=>{t<2&&(t=0),1==e&&(e=0),1==n&&(n=0),0===t&&0===e&&0===n&&(w=0,v=0,b=0,x=0),y=`${t},${e},${n}`},7*Math.abs(t)),S=!1}else{for(x++;b<231;)!function(t){setTimeout(()=>{y=`${t},${t},${t}`},8*t)}(b++);S=!0}}function $(t,e,n,i,o,a){this.x=t,this.y=e,this.radius=n,this.opacity=i,this.color=o,this.randomRedColor=Math.round(255*Math.random()),this.randomGreenColor=Math.round(255*Math.random()),this.randomBlueColor=Math.round(255*Math.random()),this.dotsColor=["rgba(255, 255, 255","rgba(33, 150, 243","rgba(4, 194, 201","rgba(32, 156, 238","rgba(33, 33, 255"],this.randomDotColorIndex=Math.floor(Math.random()*this.dotsColor.length),this.radians=Math.random()*Math.PI*2,this.isDotAddedOnClick=a,this.dx=Math.random()-.5,this.dy=Math.random()-.5,this.draw=function(){l?(r.fillStyle=`${this.dotsColor[this.randomDotColorIndex]},1)`,r.fillRect(this.x,this.y,this.radius,this.radius)):(r.beginPath(),r.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),r.fillStyle=`${this.dotsColor[this.randomDotColorIndex]},1)`,r.fill(),r.closePath())},this.update=function(){const i=[];let a=l?innerWidth/2.5:innerHeight/1.6,s=l?innerWidth/3:innerHeight/3;this.isDotAddedOnClick||l?((this.x+this.radius>innerWidth+50||this.x-this.radius<-50)&&(this.dx=-this.dx),(this.y+this.radius>innerHeight+50||this.y-this.radius<-50)&&(this.dy=-this.dy),this.x+=this.dx,this.y+=this.dy):(this.radians+=.001,this.x=t+Math.cos(this.radians)*a,this.y=e+Math.sin(this.radians)*s),m.forEach(t=>{if(this.x-t.x<=120&&this.x-t.x>-120&&this.y-t.y<=120&&this.y-t.y>-120){r.beginPath(),r.lineJoin="round",r.moveTo(this.x,this.y),r.lineTo(t.x,t.y),r.fill();let e=(1-(Math.abs(this.x-t.x)+Math.abs(this.y-t.y))/240).toFixed(3);r.lineWidth=e,r.strokeStyle=l?`rgba(255, 255, 255, ${e})`:`rgba(${this.color}, ${this.color}, ${this.color}, ${e})`,"0,0,0"!==y&&(i.length=0===x?0:i.length,i.includes(t)||i.push(t),i.length>0?(r.lineWidth=e/4,r.lineTo(i[0].x,i[0].y),r.fillStyle=`rgba(${y}, ${e/6})`,r.fill()):r.lineWidth=e),!l&&h.x<=this.x+120&&h.x>this.x-120&&h.y<=this.y+120&&h.y>this.y-120?(this.color<255&&(this.color+=2),this.radius<n+.8?this.radius+=.08:this.radius-=.08,r.lineWidth=e,r.strokeStyle=`rgba(${this.color}, ${this.color}, ${this.color}, ${e+.1})`,r.fill()):(this.color<=o||(this.color-=1),this.radius=this.radius>n?this.radius-.02:n),r.stroke()}}),this.draw()}}function C(){u=requestAnimationFrame(C),r.clearRect(0,0,innerWidth,innerHeight),m.forEach(t=>{t.update()})}function P(){cancelAnimationFrame(u)}return{redrawCanvas:function(){var e,n,i;l=window.innerWidth<=996,function(){const t=window.navigator.userAgent,e=t.indexOf("MSIE "),n=t.indexOf("Trident/"),i=t.indexOf("Edge/");let o=!1;return(e>0||n>0||i>0)&&(o=!0),o}()?t.style.display="none":l&&d!==window.innerHeight&&c==window.innerWidth||(app.header.setHeaderHeight(),cancelAnimationFrame(u),m=[],e=window.innerWidth,n=window.innerHeight,i||(i=I),t.width=e*i,t.height=n*i,t.style.width=e+"px",t.style.height=n+"px",1!==i&&r.scale(i,i),function(t){for(let e=0;e<t;e++){const t=200,e=window.innerWidth<=996?2.3:2.4;let n=1,i=Math.floor(Math.random()*(innerWidth/8-2*n)+innerWidth/e+n),o=Math.random()*innerHeight-(innerHeight+t-(innerHeight-t))+(innerHeight-t);window.innerWidth<=996&&(i=Math.floor(Math.random()*innerWidth),o=Math.floor(Math.random()*innerHeight)),m.push(new $(i,o,n,0,180,!1))}C()}(g=(g=Math.floor(window.innerWidth/18))<100?g:100),k&&q())},cancelCanvasAnimation:P}}(),app.scroll=function(){const t=document.querySelector(".header-title h1"),e=document.querySelector(".header-title h2"),n=document.querySelector("header .arrow-to-down-wrapper"),i=document.querySelector("header .animated-arrow-1"),o=document.querySelector("header .animated-arrow-2"),a=document.querySelector(".about-name"),s=document.querySelector(".image-holder"),r=document.querySelector(".education-holder"),l=document.querySelectorAll("#skillset .inner-hex"),d=document.querySelector("#skillset"),c=document.querySelector("#portfolio"),h=document.querySelector("#about"),u=document.querySelector(".arrow-to-top"),f=document.querySelector("footer"),p=window.innerWidth<=996;let m=!1;return{debounce:function(t,e,n){let i;return function(){let o=this,a=arguments,s=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||t.apply(o,a)},e),s&&t.apply(o,a)}},animatePageElements:function(){const g=window.scrollY+window.innerHeight;p||(function(n){const i=t.offsetTop+7*t.offsetHeight,o=a.offsetTop+a.offsetHeight;if(n>=i&&n<=o){let n=window.scrollY>100?.05:0,o=i/window.scrollY/20-n;t.classList.remove("fade-in"),e.classList.remove("fade-in"),t.setAttribute("style",`opacity: ${o}; `),e.setAttribute("style",`opacity: ${o}; `)}}(g),function(t){const e=a.offsetTop+a.offsetHeight,n=d.offsetTop+d.offsetHeight/2.5,i=r.offsetTop+r.offsetHeight/10;if(t<=n)if(t>=e)a.classList.add("fade-in"),a.classList.remove("fade-out"),s.setAttribute("style","opacity: 1; ");else{let t=-e/window.scrollY/2.5+2;a.classList.remove("fade-in"),a.classList.add("fade-out"),s.setAttribute("style",`opacity: ${t}; `)}t>=i?(m&&app.canvas.cancelCanvasAnimation(),m=!1):t<i&&t>=e&&(!m&&app.canvas.redrawCanvas(),m=!0)}(g)),function(){let e=t.offsetTop+t.offsetHeight;window.scrollY<e?(i.setAttribute("style","bottom: 30px;\n            border-color: rgba(187, 187, 187, 1);\n            pointer-events: all; "),o.setAttribute("style","bottom: 30px;\n            border-color: rgba(187, 187, 187, 1);\n            pointer-events: all; "),n.setAttribute("style","cursor: pointer;\n            pointer-events: all; ")):(i.setAttribute("style","bottom: -40px;\n            transition: all .4s;\n            border-color: rgba(255, 255, 255, 0);\n            pointer-events: none; "),o.setAttribute("style","bottom: -40px;\n            transition: all .4s;\n            border-color: rgba(255, 255, 255, 0);\n            pointer-events: none; "),n.setAttribute("style","cursor: default ;\n            pointer-events: none; "))}(),function(t){const e=d.offsetTop+d.offsetHeight/3.6;if(t<=c.offsetTop+c.offsetHeight/10&&t>=e)for(let e=0;e<l.length;e++)t>=l[e].offsetTop+1.6*l[e].offsetHeight?l[e].classList.add("show-skills"):l[e].classList.remove("show-skills")}(g),function(t){const e=document.querySelector(".arrow-to-top svg"),n=h.offsetTop+h.offsetHeight/2.5,i=f.offsetTop;t>=n?window.innerWidth<768?(u.setAttribute("style","\n            position: fixed;\n            right: 20px;\n            bottom: 20px;\n            z-index: 6;\n            width: 60px;\n            height: 60px;\n            "),e.setAttribute("style","left: 10px; top: 5px;")):(u.setAttribute("style","\n            position: fixed;\n            right: 20px;\n            bottom: 20px;\n            z-index: 6;\n            "),e.setAttribute("style","top: 15px;")):t<n&&u.setAttribute("style","\n          position: relative;\n          bottom: 85px;\n          "),t>=i&&(u.setAttribute("style","position:relative; "),e.setAttribute("style","left: 20px; top: 0;"))}(g)}}}(),app.loading=function(){const t=document.querySelector(".loading-percentage"),e=document.querySelector(".inside-bar");function n(t){const e=window.navigator.userAgent,n=e.indexOf("MSIE "),i=e.indexOf("Trident/"),o=e.indexOf("Edge/");(n>0||i>0||o>0)&&(t.style.backgroundAttachment="initial")}return Image.prototype.load=function(n){const i=this,o=new XMLHttpRequest;o.open("GET",n,!0),o.responseType="arraybuffer",o.onprogress=function(n){i.completedPercentage=parseInt(n.loaded/n.total*100),t.innerHTML=`${i.completedPercentage}%`,e.style.width=`${i.completedPercentage}%`},o.onloadstart=function(){i.completedPercentage=0},o.send()},{loadingImage:function(t){const e=new Image;e.load(t),e.src=t,e.onload=function(){const e=document.querySelector("body"),i=document.querySelector("header"),o=document.querySelector(".wrapper"),a=document.querySelector("nav"),s=document.querySelector(".loading-holder"),r=document.querySelector(".loading-canvas"),l=document.querySelectorAll(".projects-bg");e.style.background="#fff",i.style.backgroundImage=`url(${t})`,o.style.display="block",a.style.display="block",l.forEach(e=>{e.style.backgroundImage=`url(${t})`,n(e)}),s.style.display="none",r.style.display="none",n(i)}}}}(),app.loadingIFrames=function(){const t=document.querySelector(".portfolio"),e=document.querySelectorAll(".laptop");return{shouldLoadIFrame:function(){for(let n=0;n<e.length;n++)if(window.innerWidth<=768){const i=e[n].getAttribute("data-image");t.classList.add("iframes-not-loaded"),e[n].innerHTML=`<img src="./assets/websitesImages/${i}.jpg" alt="project image" >`}else{const i=e[n].getAttribute("data-app-name");t.classList.remove("iframes-not-loaded"),e[n].innerHTML=`\n          <img src="./assets/computer.jpg" alt="laptop image" >\n          <iframe src="https://emilbisak.github.io/${i}/#/"></iframe>`}}}}(),app.loadingCanvas=function(){var t={Particle:function(t){this.radius=7,this.x=t.x,this.y=t.y,this.angle=t.angle,this.speed=t.speed,this.accel=t.accel,this.decay=.01,this.life=.8}};t.Particle.prototype.step=function(e){this.speed+=this.accel,this.x+=Math.cos(this.angle)*this.speed,this.y+=Math.sin(this.angle)*this.speed,this.angle+=t.isSmallScreen?t.PI/40:t.PI/300,this.accel*=1.01,this.life-=this.decay,this.life<=0&&t.particles.splice(e,1)},t.Particle.prototype.draw=function(e){t.ctx.fillStyle=t.ctx.strokeStyle="hsla("+(t.tick+120*this.life)+", 100%, 90%, "+this.life+")",t.ctx.beginPath(),t.particles[e-1]&&(t.ctx.moveTo(this.x,this.y),t.ctx.lineTo(t.particles[e-1].x,t.particles[e-1].y)),t.ctx.stroke(),t.ctx.beginPath(),t.ctx.arc(this.x,this.y,Math.max(.001,this.life*this.radius),0,t.TWO_PI),t.ctx.fill();var n=1.25*Math.random();t.ctx.fillRect(~~(this.x+35*(Math.random()-.5)*this.life),~~(this.y+35*(Math.random()-.5)*this.life),n,n)},t.step=function(){t.particles.push(new t.Particle({x:t.width/2+Math.cos(t.tick/20)*t.min/2,y:t.height/2+Math.sin(t.tick/20)*t.min/2,angle:t.globalRotation+t.globalAngle,speed:0,accel:.01})),t.particles.forEach(function(t,e){t.step(e)}),t.globalRotation+=t.PI/6,t.globalAngle+=t.PI/6},t.draw=function(){t.ctx.clearRect(0,0,t.width,t.height),t.particles.forEach(function(t,e){t.draw(e)})},t.loadingCanvasInit=function(){t.canvas=document.querySelector("canvas.loading-canvas"),t.ctx=t.canvas.getContext("2d"),t.width=window.innerWidth,t.height=window.innerHeight,t.canvas.width=t.width*window.devicePixelRatio,t.canvas.height=t.height*window.devicePixelRatio,t.canvas.style.width=t.width+"px",t.canvas.style.height=t.height+"px",t.ctx.scale(window.devicePixelRatio,window.devicePixelRatio),t.isSmallScreen=window.innerWidth<996,t.isMobileScreen=window.innerWidth<=425,t.min=t.isSmallScreen?t.isMobileScreen?.5*Math.min(t.height,t.width):.3*Math.min(t.height,t.width):.2*Math.min(t.height,t.width),t.particles=[],t.globalAngle=0,t.globalRotation=0,t.tick=0,t.PI=Math.PI,t.TWO_PI=2*t.PI,t.ctx.globalCompositeOperation="lighter",document.body.appendChild(t.canvas),cancelAnimationFrame(t.animationID),t.loop()},t.loop=function(){t.animationID=requestAnimationFrame(t.loop),t.step(),t.draw(),t.tick++};const{loadingCanvasInit:e}=t;return{loadingCanvasInit:e}}(),window.onload=init();